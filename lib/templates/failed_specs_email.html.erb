<!-- DOCTYPE html -->
<html>
  <head>
  <style>
  a {
    color: white;
  }
  .info a {
    text-decoration: none;
    color: maroon;
  }

  .bold { font-weight: bold; }
  .underline { text-decoration: underline; }
  .underline { text-decoration: underline; }

  .black { color: black; }
  .red { color: #FF0000; }
  .green { color: #00ff00; }
  .yellow { color: yellow; }
  .cyan { color: cyan; }
  .blue { color: #00a8ff; }
  .magenta { color: magenta; }
  .white { color: white; }

  .bg-black { background-color: black; }
  .bg-red { background-color: #FF0000; }
  .bg-green { background-color: #00ff00; }
  .bg-yellow { background-color: yellow; }
  .bg-cyan { background-color: cyan; }
  .bg-blue { background-color: blue; }
  .bg-magenta { background-color: magenta; }
  .bg-white { background-color: white; }

  .terminal {
    background-color: #000000;
    color: #FFF;
    font-family: monospace;
    padding: 0.5em;
  }

  .monospace {
    font-family: monospace;
  }
  </style>
  </head>

  <body>
    <h1><%= app_name %></h1>
    <h2>
      <%= failed_spec_info.size %> failed spec<%= 's' if failed_spec_info.size != 1 %>
      on <%= run.branch %>
    </h2>

    <p><%= timestamp %></p>

    <p class='info'>
      Run:
      <a href="<%= run.link %>" target='_blank'>
        <%= app_name %> #<%= run.id %>
      </a>
    </p>

    <div class='monospace'>
      <% failed_spec_info.each_with_index do |spec, i| %>
        <%= spec[:file] %><br />
      <% end %>
    </div>

    <hr />

    <% failed_spec_info.each_with_index do |spec, i| %>
      <div id="spec-<%= i %>">
        <h3><%= spec[:file] %></h3>
        <div class="terminal"><%= spec[:output] %></div>
      </div>
      <hr />
    <% end %>
  </body>
</html>
